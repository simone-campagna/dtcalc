dtcalc
======

Date/Time calculator

Dtcalc is:
* A python library to work with dates, times and durations:
  * _Date_ represents a date (e. g.: `Date('20130324')`)
  * _DateTime_ represents a time (e. g. `DateTime('20130324 12:00:00')`)
  * _Duration_ represents a time duration (e. g. `Duration('00:30:00')`)
* An application to easily compute expressions involving dates, times and durations.

The `dtcalc` application is an extension of the standard python interpreter. It allows to directly write expressions like:
```python
DTCALC> print('20130324 12:00:00' - '03:45:00')
'20130324 08:15:00'
DTCALC> 
```
It can also be used to execute dt programs:

`source.dt`:
```python
print('20121110 02:03:04' + '1:10')
print('20121225 00:00:00' + '2:0:0')

for i in 0, 1:
    t0 = '20130101 01:10:05'
    t1l = []
    print()
    print("=" * 80)
    for d in 10, '1:10', '01:10', '01:10:10', Duration('2+12:00:00'), Duration.P_INF, Duration.M_INF:
        t1 = t0 + d
        print("{0} + {1} => {2}".format(t0, d, t1))
        t1l.append(t1)
    
    print()
    for t1 in t1l:
        d = t1 - t0
        print("{0} - {1} => {2}".format(t1, t0, d))

    DateTime.set_time_format("%Y-%m-%d/%H:%M:%S")

```

```text
$ dtcalc source.dt
'20121110 02:04:14'
'20121225 02:00:00'

================================================================================
'20130101 01:10:05' + 10 => '20130101 01:10:15'
'20130101 01:10:05' + '01:10' => '20130101 01:11:15'
'20130101 01:10:05' + '01:10' => '20130101 01:11:15'
'20130101 01:10:05' + '01:10:10' => '20130101 02:20:15'
'20130101 01:10:05' + '2+12:00:00' => '20130103 13:10:05'
'20130101 01:10:05' + '+DInf' => '+TInf'
'20130101 01:10:05' + '-DInf' => '-TInf'

'20130101 01:10:15' - '20130101 01:10:05' => '00:10'
'20130101 01:11:15' - '20130101 01:10:05' => '01:10'
'20130101 01:11:15' - '20130101 01:10:05' => '01:10'
'20130101 02:20:15' - '20130101 01:10:05' => '01:10:10'
'20130103 13:10:05' - '20130101 01:10:05' => '2+12:00:00'
'+TInf' - '20130101 01:10:05' => '+DInf'
'-TInf' - '20130101 01:10:05' => '-DInf'

================================================================================
'2013-01-01/01:10:05' + 10 => '2013-01-01/01:10:15'
'2013-01-01/01:10:05' + '01:10' => '2013-01-01/01:11:15'
'2013-01-01/01:10:05' + '01:10' => '2013-01-01/01:11:15'
'2013-01-01/01:10:05' + '01:10:10' => '2013-01-01/02:20:15'
'2013-01-01/01:10:05' + '2+12:00:00' => '2013-01-03/13:10:05'
'2013-01-01/01:10:05' + '+DInf' => '+TInf'
'2013-01-01/01:10:05' + '-DInf' => '-TInf'

'2013-01-01/01:10:15' - '2013-01-01/01:10:05' => '00:10'
'2013-01-01/01:11:15' - '2013-01-01/01:10:05' => '01:10'
'2013-01-01/01:11:15' - '2013-01-01/01:10:05' => '01:10'
'2013-01-01/02:20:15' - '2013-01-01/01:10:05' => '01:10:10'
'2013-01-03/13:10:05' - '2013-01-01/01:10:05' => '2+12:00:00'
'+TInf' - '2013-01-01/01:10:05' => '+DInf'
'-TInf' - '2013-01-01/01:10:05' => '-DInf'
$
```
